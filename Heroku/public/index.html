<!DOCTYPE html>
<html>

<head>
  <title>Milcare Foundation</title>
</head>

<body>
  <h1>WTF, Our API is running!</h1>
  <p><strong>List of the events</strong></p>
  <ul id="id01"></ul>
  <p><strong>List of the person</strong></p>
  <ul id="id02"></ul>
  <p><strong>List of the services</strong></p>
  <ul id="id03"></ul>
  <p id="debug"></p>
  <div class="user"></div>
</body>

<script>
  //\\  List of Events  //\\
  fetch("api/Events")
    .then(function (response) {
      return response.json();
    })
    .then(function (json) {
      for (let i = 0; i < json.length; i++) {
        let listItem = document.createElement("li");
        let { CodeEvent, Name, Date, Location, ShortDescription, LongDescription, Images } = json[i];
        listItem.innerHTML = `${CodeEvent} - ${Name} - ${Location} - ${ShortDescription} - ${LongDescription} - ${Images[0]}`;
        document.querySelector("#id01").append(listItem);
        //console.log(json);
        //document.querySelector("p").innerHTML = json.length;
      }
    });

  //\\  List of person  //\\
  fetch("api/person")
    .then(function (response) {
      return response.json();
    })
    .then(function (json) {
      for (let i = 0; i < json.length; i++) {
        let listItem = document.createElement("li");
        let { CodePerson, Name, Role, Description, Images } = json[i];
        listItem.innerHTML = `${CodePerson} - ${Name} - ${Role} - ${Description} - ${Images}`;
        document.querySelector("#id02").append(listItem);
        //console.log(json);
        //document.querySelector("p").innerHTML = json.length;
      }
    });

  //\\  List of Services  //\\
  fetch("api/Services")
    .then(function (response) {
      return response.json();
    })
    .then(function (json) {
      for (let i = 0; i < json.length; i++) {
        let listItem = document.createElement("li");
        let { Name, ShortDescription, LongDescription, Images } = json[i];
        listItem.innerHTML = `${Name} - ${ShortDescription} - ${LongDescription} - ${Images[2]}`;
        document.querySelector("#id03").append(listItem);
        //console.log(json);
        //document.querySelector("p").innerHTML = json.length;
      }
    });

  //Debug
  //console.log(process.env.DATABASE_URL);
  //document.querySelector("#debug").innerHTML = process.env.DATABASE_URL;
</script>

</html>